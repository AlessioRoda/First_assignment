<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: first_assignment/src/robot_controller.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1a74da7dd60212fcac5835d0efa1891b.html">first_assignment</a></li><li class="navelem"><a class="el" href="dir_affda1c1a73c34f9f565198899b2f0e7.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">robot_controller.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &quot;geometry_msgs/Twist.h&quot;</code><br />
<code>#include &quot;nav_msgs/Odometry.h&quot;</code><br />
<code>#include &quot;srv_first_assignment/Server.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for robot_controller.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="robot__controller_8cpp__incl.png" border="0" usemap="#first__assignment_2src_2robot__controller_8cpp" alt=""/></div>
<map name="first__assignment_2src_2robot__controller_8cpp" id="first__assignment_2src_2robot__controller_8cpp">
</map>
</div>
</div>
<p><a href="robot__controller_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aab6e381bffc34921244a29ec0538ba64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="robot__controller_8cpp.html#aab6e381bffc34921244a29ec0538ba64">positionCallback</a> (const nav_msgs::Odometry::ConstPtr &amp;msg)</td></tr>
<tr class="separator:aab6e381bffc34921244a29ec0538ba64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="robot__controller_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a350594df3e8f6948c8462edfd41ce086"><td class="memItemLeft" align="right" valign="top">ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="robot__controller_8cpp.html#a350594df3e8f6948c8462edfd41ce086">pub</a></td></tr>
<tr class="separator:a350594df3e8f6948c8462edfd41ce086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17bcd065930a8a7f9f194078d9977268"><td class="memItemLeft" align="right" valign="top">ros::ServiceClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="robot__controller_8cpp.html#a17bcd065930a8a7f9f194078d9977268">client</a></td></tr>
<tr class="separator:a17bcd065930a8a7f9f194078d9977268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75a66aaf2761f4febba3ba2a55c9133"><td class="memItemLeft" align="right" valign="top">srv_first_assignment::Server&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="robot__controller_8cpp.html#ae75a66aaf2761f4febba3ba2a55c9133">rec_pos</a></td></tr>
<tr class="separator:ae75a66aaf2761f4febba3ba2a55c9133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b231f4f8af79d2071b60cbacebfc99"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="robot__controller_8cpp.html#a23b231f4f8af79d2071b60cbacebfc99">position_x</a> =0</td></tr>
<tr class="separator:a23b231f4f8af79d2071b60cbacebfc99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31f30f5c4fab9afb7dedf677d53104b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="robot__controller_8cpp.html#af31f30f5c4fab9afb7dedf677d53104b">position_y</a> =0</td></tr>
<tr class="separator:af31f30f5c4fab9afb7dedf677d53104b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make the request to the server by setting the maximun and minimum values in wich there must be the position to catch </p>

<p class="definition">Definition at line <a class="el" href="robot__controller_8cpp_source.html#l00059">59</a> of file <a class="el" href="robot__controller_8cpp_source.html">robot_controller.cpp</a>.</p>

</div>
</div>
<a id="aab6e381bffc34921244a29ec0538ba64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab6e381bffc34921244a29ec0538ba64">&#9670;&nbsp;</a></span>positionCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void positionCallback </td>
          <td>(</td>
          <td class="paramtype">const nav_msgs::Odometry::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The positionCallback has to check if the current position of the robot is the same as the one that it's received from the Server. If the distance between the robot is less than 0.1 the position that Server gave is catched, otherwise the velocity of the robot is set proportionally respect to the remaining distance. </p>
<p>Since the position is catched, now it asks for a new position. The position is always between the values -6.0 to 6.0 either for x both for y</p>
<p>From the topic geometry_msgs we get the velocity to set in the robot </p>

<p class="definition">Definition at line <a class="el" href="robot__controller_8cpp_source.html#l00026">26</a> of file <a class="el" href="robot__controller_8cpp_source.html">robot_controller.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a17bcd065930a8a7f9f194078d9977268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17bcd065930a8a7f9f194078d9977268">&#9670;&nbsp;</a></span>client</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::ServiceClient client</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__controller_8cpp_source.html#l00010">10</a> of file <a class="el" href="robot__controller_8cpp_source.html">robot_controller.cpp</a>.</p>

</div>
</div>
<a id="a23b231f4f8af79d2071b60cbacebfc99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b231f4f8af79d2071b60cbacebfc99">&#9670;&nbsp;</a></span>position_x</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float position_x =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Values of te position received from the server, intialized to 0 </p>

<p class="definition">Definition at line <a class="el" href="robot__controller_8cpp_source.html#l00018">18</a> of file <a class="el" href="robot__controller_8cpp_source.html">robot_controller.cpp</a>.</p>

</div>
</div>
<a id="af31f30f5c4fab9afb7dedf677d53104b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31f30f5c4fab9afb7dedf677d53104b">&#9670;&nbsp;</a></span>position_y</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float position_y =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__controller_8cpp_source.html#l00019">19</a> of file <a class="el" href="robot__controller_8cpp_source.html">robot_controller.cpp</a>.</p>

</div>
</div>
<a id="a350594df3e8f6948c8462edfd41ce086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a350594df3e8f6948c8462edfd41ce086">&#9670;&nbsp;</a></span>pub</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher pub</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the publisher and the client </p>

<p class="definition">Definition at line <a class="el" href="robot__controller_8cpp_source.html#l00009">9</a> of file <a class="el" href="robot__controller_8cpp_source.html">robot_controller.cpp</a>.</p>

</div>
</div>
<a id="ae75a66aaf2761f4febba3ba2a55c9133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae75a66aaf2761f4febba3ba2a55c9133">&#9670;&nbsp;</a></span>rec_pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">srv_first_assignment::Server rec_pos</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>To connect to the server in srv_first_package/src/Server.cpp </p>

<p class="definition">Definition at line <a class="el" href="robot__controller_8cpp_source.html#l00015">15</a> of file <a class="el" href="robot__controller_8cpp_source.html">robot_controller.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
